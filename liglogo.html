<!doctype html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>Threejsの練習</title>
</head>
<body>
	<script src="three.min.js"></script>
	<script src="OrbitControls.js"></script>
	<script>
		var scene = new THREE.Scene();
		var camera = new THREE.PerspectiveCamera(75, 600 / 400, 1, 1000);
		
		camera.position.set(10, 0, 130);
		if (window.WebGLRenderingContext) {
			renderer = new THREE.WebGLRenderer();
		} else {
			renderer = new THREE.CanvasRenderer();
		}
		
		renderer.setSize(600, 400); // Canvasのサイズ設定
		document.body.appendChild(renderer.domElement);

		var directionalLight = new THREE.DirectionalLight('#ffffff', 1);
		directionalLight.position.set(0, 7, 10);
		scene.add(directionalLight); // シーンに追加

		var geometry = new THREE.BoxGeometry(10, 10, 10);
		//var geometry = new THREE.TextGeometry(10, 10, 10);
		var material = new THREE.MeshPhongMaterial({color: 'white'});

		var cube = [];
		var position = [
			[-15,0,0],
			[-15,15,0],
			[-15,30,0],
			[-15,45,0],
			[-15,60,0],
			[0,0,0],
			[15,0,0],
			[30,0,0],
			[60,0,0],
			[60,15,0],
			[60,30,0],
			[60,45,0],
			[60,60,0],
			[90,60,0],
			[90,45,0],
			[90,30,0],
			[90,15,0],
			[90,0,0],
			[105,0,0],
			[120,0,0],
			[135,0,0],
			[105,60,0],
			[120,60,0],
			[135,45,0],
			[135,15,0],
		];

		//図形を描画
		for (var i = 0; i < position.length; i++) {
			cube[i] = new THREE.Mesh(geometry, material);
			cube[i].position.set(position[i][0]-60,position[i][1]-30,position[i][2]);
			scene.add(cube[i]);	
		};
		
		//マウス操作
		var controls = new THREE.OrbitControls(camera, renderer.domElement);
		
		function render() {
			requestAnimationFrame(render);

			for (var i = 0; i < cube.length; i++) {
				cube[i].rotation.x += 0.01; // 追加
				cube[i].rotation.y += 0.01; // 追加	
			};

			controls.update();
			renderer.render(scene, camera);
		}
		render();
    </script>
</body>
</html>